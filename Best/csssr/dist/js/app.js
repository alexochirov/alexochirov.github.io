"use strict";!function(h){h(function(){h(".lore__triangle").draggable({axis:"x",containment:"parent",scroll:!1}),h(".lore__triangle").draggable({start:function(){h(this).css("left")},stop:function(){var t=h(this).closest(".lore").width(),e=h(this).closest(".lore").find(".lore__block").length,s=h(this).css("left").slice(0,-2),i=t/e,l=Math.round((s-0)/i);h(this).closest(".lore").find(".lore__block.js-active").removeClass("js-active"),l==e&&l--,h(this).closest(".lore").find(".lore__block").eq(l).click()}});var l=h('<div class="fake">').appendTo("body");function t(t){l.text(t.text()).width(t.width()).css("font-size",t.css("font-size")).css("font-family",t.css("font-family")).css("line-height",t.css("line-height"))}function e(t){var e=t.val();l.text(e);var s=t.css("line-height").slice(0,-2),i=Math.ceil(l.height()/s);t.height(i*s)}h(".paper__textarea").on({input:function(){e(h(this))},focus:function(){t(h(this))},keypress:function(t){13==t.which&&t.preventDefault()}}),h(document).ready(function(){a(),r(),t(h(".paper__textarea")),setTimeout(function(){e(h(".paper__textarea"))},1e3)});var i,o,n,c,s=(i=function(){a(),r(),t(h(".paper__textarea")),e(h(".paper__textarea"))},o=150,function(){var t=this,e=arguments,s=n&&!c;clearTimeout(c),c=setTimeout(function(){c=null,n||i.apply(t,e)},o),s&&i.apply(t,e)});function a(){h(".lore").each(function(){var t=h(this).find(".lore__block").map(function(){return h(this).height()}).get(),e=Math.max.apply(null,t)+60;h(this).height(e)})}function r(){h(".lore").each(function(){var t,e=h(this).width()-5;t=h(this).find(".lore__block.js-active").hasClass("lore__block_last")?e:h(".lore__block.js-active").css("left"),h(this).find(".lore__triangle").css("left",t)})}window.addEventListener("resize",s),h(".lore__block").click(function(){var t=h(this).css("left"),e=h(this).closest(".lore").width()-5;h(this).hasClass("lore__block_last")?h(this).closest(".lore").find(".lore__triangle").css("left",e):h(this).closest(".lore").find(".lore__triangle").css("left",t),h(".lore__block.js-active").removeClass("js-active"),h(this).addClass("js-active")})})}(jQuery);