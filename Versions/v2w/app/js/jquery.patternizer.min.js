!function(t){function e(){var t,e=-1,n=navigator.appName,r=navigator.userAgent;return"Microsoft Internet Explorer"==n?(t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=t.exec(r)&&(e=parseFloat(RegExp.$1))):"Netscape"==n&&(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=t.exec(r)&&(e=parseFloat(RegExp.$1))),e}function n(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}function r(t,e){!function n(){t&&t.complete&&t.width>0&&t.height>0?(e.img=t,b++,a(e),b==y&&i()):setTimeout(n,10)}()}function a(t){var e=t.span,n=t.svg,r=t.svgText,a=t.svgPattern||null,i=t.svgImage||null,s=t.img;a&&i&&(a.attr("width",s.width).attr("height",s.height),i.attr("width",s.width).attr("height",s.height)),n.attr("style","position:absolute;bottom:0;left:0;z-index:-1"),e.attr("style",m);var o=e.width(),l=e.height(),p=e.css("font-size");n.attr("width",o).attr("height",l),r.attr("font-size",p),g&&n.attr("style","position:absolute;bottom:0.065em;left:0;z-index:-1")}function i(){for(var t=0,e=x.length;e>t;t++)a(x[t])}function s(){return parseFloat(x[0].span.css("font-size"))+h.height()+h.width()}function o(){h=t(document.createElementNS(E.xhtml,"span")),h.attr("id",d).attr("style","display:inline;position:absolute;left:-10000px;bottom:0;"),h.html(new Array(100).join("&#160;")),t("body").append(h)}function l(){o(),f=s(),function t(){var e=s();f!=e&&(i(),f=e),setTimeout(t,100)}()}function p(){if(y=u.length){var e,n,a,i,s,o,p,h,d,f,b,N,z;u.each(function(l){e=t(this),e.attr("style",w),n=e.text(),e.text(""),a=t(document.createElementNS(E.xhtml,"span")),a.html("<span>"+n+"</span>"),a.attr("style",m+"height:"+e.height()+"px; width:"+e.width()+"px;"),e.append(a),b=a.css("width"),N=a.css("height"),z=a.css("font-size"),i=t(document.createElementNS(E.svg,"svg")),i.attr("version","1.1").attr("baseProfile","full").attr("x","0").attr("y","0").attr("width","0").attr("height","0"),i[0].setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",E.svg),i[0].setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",E.xlink),a.append(i),a.attr("style",m),h=e.data("pattern"),s=t(document.createElementNS(E.svg,"defs")),i.append(s),p=t(document.createElementNS(E.svg,"pattern")),p.attr("id",S+h).attr("x","0").attr("y","0"),p[0].setAttribute("patternUnits","userSpaceOnUse"),s.append(p),d=t(document.createElementNS(E.svg,"image")),d[0].setAttributeNS(E.xlink,"xlink:href",h),d.attr("x","0").attr("y","0"),p.append(d),v[h]=p,o=t(document.createElementNS(E.svg,"text")),o.text(n),o.attr("x","0").attr("y","0").attr("font-size",z),o.attr("dominant-baseline","text-before-edge"),g&&(o.attr("y",z),o[0].setAttribute("textLength",b)),c>=9&&11>=c&&o.attr("y","0.9em"),o.attr("fill","url(#"+S+h+")"),i.append(o),x.push({span:a,svg:i,svgText:o,svgPattern:p,svgImage:d,img:null}),f=new Image,f.onload=function(t,e){r(t,e)}(f,x[l]),f.src=h,e.attr("style",m)}),l()}}var h,u,g=window.opera&&"[object Opera]"==window.opera.toString(),c=e(),d="fontsize-measurer__"+ +new Date,w="position:relative;display:inline;width:auto;",m="color:transparent;display:inline;position:relative;z-index:2;cursor:inherit;white-space:nowrap;vertical-align:baseline;",x=[],f=0,v={},y=0,b=0,S="pattern__",E={xhtml:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},N={init:function(e){u=t(this),n()&&p()}};t.fn.patternizer=function(e){return N[e]?N[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.patternizer"):N.init.apply(this,arguments)}}(jQuery);